<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
   <f:view locale="#{localeCtrl.actual}" />    
   		<ui:composition >
   		
 			<h:panelGrid columns="1" width="100%" style="text-align:center;" >
   				<!-- <h:outputText value="Module #{sessionCtrl.defaultVue.LModule}" style="FONT-SIZE: small; FONT-WEIGHT: bold;"/> -->
			</h:panelGrid>
   			  			
  			<br/>	
  				
  			<h:panelGrid  columns="2" width="100%"	 >
				
  				<h:outputText value="#{locale.budget}" rendered="#{! empty sessionCtrl.defaultVue.listeBudget}" />
				<h:selectOneMenu id="somn_budget"   value="#{sessionCtrl.defaultVue.budget.CBdg}" style=" width : 100%;" rendered="#{! empty sessionCtrl.defaultVue.listeBudget}"  >				
					<f:selectItems value="#{sessionCtrl.defaultVue.listeBudget}" />	
					<a4j:support event="onchange" ajaxSingle="true" reRender="somn_role, pngd_contexte" >
						<f:setPropertyActionListener value="#{null}" target="#{sessionCtrl.defaultVue.listeRole}" />
						<f:setPropertyActionListener value="#{null}" target="#{sessionCtrl.defaultVue.listeDroit}" />
					</a4j:support>																			
				</h:selectOneMenu>	
				
 				<h:outputText value="#{locale.role}:"	/>
				<h:selectOneMenu id="somn_role"  value="#{sessionCtrl.defaultVue.role.CRol}" style=" width : 100%;" >		
					<f:selectItems value="#{sessionCtrl.defaultVue.listeRole}" />	
					<a4j:support event="onchange" ajaxSingle="true" reRender="pngd_contexte" >
						<f:setPropertyActionListener value="#{null}" target="#{sessionCtrl.defaultVue.listeDroit}" />
					</a4j:support>					
				</h:selectOneMenu>	
				
				<h:outputText value="#{locale.exercice}:" rendered="#{! empty sessionCtrl.defaultVue.listeExercice}"/>
				<h:selectOneMenu   value="#{sessionCtrl.defaultVue.exercice}" style=" width : 100%;" rendered="#{! empty sessionCtrl.defaultVue.listeExercice}" >				
					<f:selectItems value="#{sessionCtrl.defaultVue.listeExercice}" />		
					<a4j:support event="onchange" ajaxSingle="true" reRender="somn_budget, somn_role, pngd_contexte, somn_drt" >
						<f:setPropertyActionListener value="#{null}" target="#{sessionCtrl.defaultVue.listeBudget}" />						
						<f:setPropertyActionListener value="#{null}" target="#{sessionCtrl.defaultVue.listeRole}" />
						<f:setPropertyActionListener value="#{null}" target="#{sessionCtrl.defaultVue.listeDroit}" />												
					</a4j:support>																	
				</h:selectOneMenu>
				
				<h:panelGroup>
					<h:outputText value="#{locale.droit}:"	/>
					<ui:include src="/shared/include/required.xhtml" />
				</h:panelGroup>
				
				<h:panelGroup>
					<h:selectOneMenu id="somn_drt"  value="#{sessionCtrl.defaultVue.droit.CDrt}" 
						style=" width : 100%;" required="true" requiredMessage="#{msg['erreur.validation.obligatoire']}">		
						<f:selectItems value="#{sessionCtrl.defaultVue.listeDroit}" />	
						<a4j:support event="onchange" ajaxSingle="true" />
					</h:selectOneMenu>	
					<rich:message for="somn_drt" errorClass="msg_error" />
				</h:panelGroup>
					
				
				
									
   			</h:panelGrid>
   			
   			<rich:spacer height="10px" />
			<rich:separator height="1px"	lineType="dashed"/>
			<rich:spacer height="10px" />
		
			<h:panelGrid id="pngd_contexte"  columns="2" width="100%"  >
			
				<h:outputText value="#{locale.contexte}:"	 />
				<h:selectOneMenu    value="#{sessionCtrl.defaultVue.CDrt}"  style=" width : 100%;"  >		
					<f:selectItems value="#{sessionCtrl.defaultVue.listeDroit}" />	
				</h:selectOneMenu>	
			
				<h:outputText value="#{locale.datevaleur}:"	 />
				<h:selectOneMenu    value="#{sessionCtrl.defaultVue.CDatVal}"  style=" width : 100%;"  >		
					<f:selectItems value="#{sessionCtrl.defaultVue.listeDatVal}" />	
				</h:selectOneMenu>	
			
			</h:panelGrid>
	
			<h:panelGrid columns="2" width="100%" rendered="false"	>
			
				<h:outputText value="#{locale.departement1}" />
				<h:selectOneMenu   value="" style=" width : 100%;" >		
					<f:selectItem itemValue="Central" />				
					<f:selectItem itemValue="Brazzavile" />
					<f:selectItem itemValue="Ouesso" />
				</h:selectOneMenu>	
			
 				<h:outputText value="#{locale.ministere1}" />
				<h:selectOneMenu   value="" style=" width : 100%;" >		
					<f:selectItem itemValue="Déense" />				
					<f:selectItem itemValue="Finances" />
					<f:selectItem itemValue="Intérieur" />
				</h:selectOneMenu>	
				
				<h:outputText value="#{locale.section1}" />
				<h:selectOneMenu   value="" style=" width : 100%;" >		
					<f:selectItem itemValue="Cabinet" />				
					<f:selectItem itemValue="Direction du Noura" />
					<f:selectItem itemValue="Direction de la Mandarine" />
				</h:selectOneMenu>	
				
				<h:outputText value="#{locale.service1}" />
				<h:selectOneMenu   value="" style=" width : 100%;" >		
					<f:selectItem itemValue="Service du Courrier" />				
					<f:selectItem itemValue="Livreur de Pizza" />
					<f:selectItem itemValue="Technicien de surface" />
				</h:selectOneMenu>	
				
				<h:outputText value="#{locale.postecmptable1}" />
				<h:selectOneMenu   value="" style=" width : 100%;" >		
					<f:selectItem itemValue="Poste ZAZA" />	
					<f:selectItem itemValue="Poste ZOZO" />				
				</h:selectOneMenu>	
				
 				<h:outputText value="#{locale.caisse1}" />
 				<h:selectOneMenu   value="" style=" width : 100%;" >				
 					<f:selectItem itemValue="Caisse à 100 Milliards" />			
					<f:selectItem itemValue="Caisse avec bcp d'argent" />									
				</h:selectOneMenu>						
											
			</h:panelGrid>
			   			
  		
			<rich:spacer height="10px" />
			<rich:separator height="1px"/>
			
			<h:panelGrid columns="2" width="100%" >
			
				<h:panelGrid columns="" style="text-align:left;" >			
					<a4j:region>		
						<a4j:status id="stus_actions" startText="#{locale.connexionencours}" stopText="" />
					</a4j:region>
				</h:panelGrid>
									
				<h:panelGrid columns="" width="100%" style="text-align:right;" >
					<h:panelGroup id="pnel_actions" >
						<a4j:commandButton styleClass="formButton" action="#{sessionCtrl.validerConnexion}" 	value="#{locale.valider}"    type="submit" 	status="stus_actions"  />
						<a4j:commandButton styleClass="formButton" action="#{sessionCtrl.annulerConnexion}" 	value="#{locale.annuler}"  	type="submit" 	ajaxSingle="true" immediate="true" />					
					</h:panelGroup>	
				</h:panelGrid>
																
			</h:panelGrid>				
					   			      			  		
   		</ui:composition>

</html>