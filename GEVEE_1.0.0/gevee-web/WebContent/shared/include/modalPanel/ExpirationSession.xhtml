<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">

   		<ui:composition >
   		
			<a4j:region>
				<a4j:form>
				<a4j:poll id="sessioncheck" interval="3650000"
						reRender="sessioncheck"  />
				</a4j:form>
				<script type="text/javascript">
			        A4J.AJAX.onExpired = function(loc,expiredMsg){
			        Richfaces.showModalPanel('mpnl_sessionExpired',{left:'auto',top:'auto'});} 
		       </script>
			</a4j:region>			
								
			<rich:modalPanel id="mpnl_sessionExpired"  autosized="true" minWidth="350" minHeight="100"  >
			
				<f:facet name="header">
					<h:outputText value="Expiration" style="padding-right:15px;" />						
				</f:facet>
				
				<h:panelGrid columns="1" width="100%"  style="border:2px solid #{richSkin.panelBorderColor}; " border="0" cellpadding="0" cellspacing="0"  >
					
					<h:panelGrid columns="1" width="100%"  style="text-align:center;"  >
						<br/>
						<h:outputText value="#{locale.expsession}" />
						<br/>
					</h:panelGrid>														
								
					<rich:separator height="0px" style="border:1px solid #{richSkin.panelBorderColor};"  />
						
					<h:form>				
						<h:panelGrid columns="" width="100%"  style="text-align:right;" border="0" cellpadding="0" > 										
							<h:panelGroup>	
																											
								<h:commandButton action="null" value="Se connecter"  immediate="true" onclick="window.close();pleinEcran('/gevee-web/shared/pages/Login.jsf','GEVEE');"  />	
								
								<h:commandButton action="null" value="Fermer"  immediate="true" onclick="window.close()" />																																																																						
																																			   																
							</h:panelGroup>											
						</h:panelGrid>	
					</h:form>																
				</h:panelGrid>
				
			</rich:modalPanel>			
   			
   		
   		</ui:composition>

</html>